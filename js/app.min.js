(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",5e3),document.querySelector(".check")&&(document.querySelector(".check").textContent=sessionStorage.getItem("money"));const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper");function s(e,t){document.querySelectorAll(e).forEach((e=>{e.classList.contains(t)&&e.classList.remove(t)}))}function c(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelector(t).classList.add("_delete-money"),document.querySelector(t).textContent=sessionStorage.getItem("money")}),500),setTimeout((()=>{document.querySelector(t).classList.remove("_delete-money")}),1500)}function n(e){document.querySelector(e).classList.add("_no-money"),setTimeout((()=>{document.querySelector(e).classList.remove("_no-money")}),1e3)}function a(e,t){return Math.floor(Math.random()*(t-e)+e)}function r(e,t,o,s){setTimeout((()=>{document.querySelector(t).textContent=+sessionStorage.getItem("money")+e,document.querySelector(t).classList.add("_anim-add-money"),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}),o),setTimeout((()=>{document.querySelector(t).classList.remove("_anim-add-money")}),s)}document.querySelector(".bank__body img")&&setInterval((()=>{!function(){let e=a(0,3),t=document.querySelector(".bank__body img");t.classList.contains("_anim-icon-jump")?t.classList.remove("_anim-icon-jump"):t.classList.contains("_anim-icon-scale")?t.classList.remove("_anim-icon-scale"):t.classList.contains("_anim-icon-rotate")&&t.classList.remove("_anim-icon-rotate"),t.classList.add(`_anim-icon-${["jump","scale","rotate"][e]}`)}()}),2e4),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active");let i=8e3,m=12e3;function l(e){document.querySelector(`.shop__button-tank_${e}`).classList.remove("_not-purchased"),document.querySelectorAll(".shop__price").forEach((t=>{t.dataset.tank==e&&(t.style.transition="0.5s ease",t.style.opacity="0",setTimeout((()=>{t.remove()}),500))})),document.querySelector(`.shop__button-tank_${e}`).innerHTML="<p>Select</p>",document.querySelector(`.shop__button-tank_${e} p`).style.transition="0.5s ease"}function u(e){document.querySelector(e).classList.add("_hold")}function _(e){document.querySelector(e).classList.remove("_hold")}document.querySelector(".shop")&&(sessionStorage.getItem("tank-2")?l(2):document.querySelector(".bank__count_tank-2").textContent=i,sessionStorage.getItem("tank-3")?l(3):document.querySelector(".bank__count_tank-3").textContent=m,sessionStorage.setItem("tank-active",1));let d={current_win:0,current_loose:0};function g(e){document.querySelector(e).classList.add("_active"),setTimeout((()=>{document.querySelector(e).classList.remove("_active")}),1e3)}function S(e,t){document.querySelector(e).textContent=t}document.querySelector(".game")&&(sessionStorage.setItem("current-bet","empty"),sessionStorage.setItem("bet",10));let y={timerId:!1,current_left:0,speed:.5,width:document.documentElement.clientWidth,current_position:0};function b(e){let t="_active-1";2==+sessionStorage.getItem("tank-active")?t="_active-2":3==+sessionStorage.getItem("tank-active")&&(t="_active-3"),document.querySelector(".catgame__hero").classList.add(t),y.timerId=setInterval((()=>{y.current_left+=y.speed,document.querySelector(".catgame__hero").style.left=`${y.current_left}%`,y.current_position=document.querySelector(".catgame__hero").getBoundingClientRect().left,83==y.current_left&&clearInterval(y.timerId),y.current_position>=e&&(clearInterval(y.timerId),document.querySelector(".catgame__hero").classList.contains("_active-1")?document.querySelector(".catgame__hero").classList.remove("_active-1"):document.querySelector(".catgame__hero").classList.contains("_active-2")?document.querySelector(".catgame__hero").classList.remove("_active-2"):document.querySelector(".catgame__hero").classList.contains("_active-3")&&document.querySelector(".catgame__hero").classList.remove("_active-3"),function(){let e=document.createElement("img");e.setAttribute("src","img/icons/bum.png"),e.setAttribute("alt","Image"),e.classList.add("catgame__fire"),document.querySelector(".catgame__hero").append(e),setTimeout((()=>{e.classList.add("_active")}),100)}(),setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),1e3))}),50)}document.querySelector(".catgame")&&(sessionStorage.getItem("tank-active")||sessionStorage.setItem("tank-active",1),function(){let e=document.createElement("img");e.setAttribute("src",`img/shop/tank-${sessionStorage.getItem("tank-active")}.png`),e.setAttribute("alt","Image"),document.querySelector(".catgame__hero").append(e)}(),sessionStorage.setItem("bet",10),setTimeout((()=>{document.querySelector(".catgame__hero").classList.remove("_start-anim")}),2e3)),document.addEventListener("click",(e=>{let q=e.target;if(q.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible"),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active")),q.closest(".shop__button-tank_1")&&(sessionStorage.setItem("tank-active",1),s(".shop__item","_selected"),q.closest(".shop__item").classList.add("_selected")),q.closest(".shop__button-tank_2")&&(sessionStorage.getItem("tank-2")?(sessionStorage.setItem("tank-active",2),s(".shop__item","_selected"),q.closest(".shop__item").classList.add("_selected")):+sessionStorage.getItem("money")>=i?(c(i,".check"),sessionStorage.setItem("tank-2",!0),setTimeout((()=>{l(2)}),500)):+sessionStorage.getItem("money")<i&&n(".check")),q.closest(".shop__button-tank_3")&&(sessionStorage.getItem("tank-3")?(sessionStorage.setItem("tank-active",3),s(".shop__item","_selected"),q.closest(".shop__item").classList.add("_selected")):+sessionStorage.getItem("money")>=m?(c(m,".check"),sessionStorage.setItem("tank-3",!0),setTimeout((()=>{l(3)}),500)):+sessionStorage.getItem("money")<i&&n(".check")),q.closest(".button_head")&&(s(".button","_selected"),document.querySelector(".button_head").classList.add("_selected"),sessionStorage.setItem("current-bet","head")),q.closest(".button_tail")&&(s(".button","_selected"),document.querySelector(".button_tail").classList.add("_selected"),sessionStorage.setItem("current-bet","tail")),q.closest(".item-game__button_bet")&&+sessionStorage.getItem("money")>=+sessionStorage.getItem("bet")&&("head"==sessionStorage.getItem("current-bet")||"tail"==sessionStorage.getItem("current-bet"))){u(".button_head"),u(".button_tail"),u(".bets"),u(".item-game__button_bet"),c(+sessionStorage.getItem("bet"),".check"),setTimeout((()=>{document.querySelector(".item-game__coin").classList.add("_rotate"),setTimeout((()=>{document.querySelector(".item-game__coin").classList.remove("_rotate"),document.querySelector(".item-game__coin").classList.add("_rotate-normal"),setTimeout((()=>{document.querySelector(".item-game__coin").classList.remove("_rotate-normal"),document.querySelector(".item-game__coin").classList.add("_rotate-low")}),1e3)}),1500)}),300);let e=a(1,3);setTimeout((()=>{!function(e){let t=document.createElement("img");1==e?t.setAttribute("src","img/mini-game/coin-head.png"):2==e&&t.setAttribute("src","img/mini-game/coin-tail.png"),t.classList.add("_create-coin"),document.querySelector(".item-game__coin").append(t),document.querySelector(".head").classList.add("_hide"),document.querySelector(".tail").classList.add("_hide"),document.querySelector(".item-game__coin").classList.remove("_rotate-low")}(e),setTimeout((()=>{!function(e){let t=+sessionStorage.getItem("bet"),o=sessionStorage.getItem("current-bet"),s=0;1==e&&"head"==o?(document.querySelector(".win").classList.add("_active"),s=2*t,r(s,".check",1e3,1500),document.querySelector(".win__text").textContent=s,d.current_win+=s,g(".game__block_head"),S(".game__sub-count_head",`+${d.current_win}`)):1==e&&"tail"==o?(document.querySelector(".loose").classList.add("_active"),d.current_loose-=t,g(".game__block_tail"),S(".game__sub-count_tail",d.current_loose)):2==e&&"tail"==o?(document.querySelector(".win").classList.add("_active"),s=2*t,r(s,".check",1e3,1500),document.querySelector(".win__text").textContent=s,d.current_win+=s,g(".game__block_head"),S(".game__sub-count_head",`+${d.current_win}`)):2==e&&"head"==o&&(document.querySelector(".loose").classList.add("_active"),d.current_loose-=t,g(".game__block_tail"),S(".game__sub-count_tail",d.current_loose))}(e)}),500)}),3300)}if(q.closest(".bets__bet")&&(s(".bets__bet","_active"),q.closest(".bets__bet").classList.add("_active"),function(e){let t=e.dataset.bet;sessionStorage.setItem("bet",t)}(q.closest(".bets__bet"))),(q.closest(".win__button_play")||q.closest(".loose__button_play"))&&(document.querySelector(".win").classList.contains("_active")?document.querySelector(".win").classList.remove("_active"):document.querySelector(".loose").classList.contains("_active")&&document.querySelector(".loose").classList.remove("_active"),_(".bets"),document.querySelector(".game")?(document.querySelector("._create-coin").remove(),document.querySelector(".head").classList.remove("_hide"),document.querySelector(".tail").classList.remove("_hide"),_(".button_head"),_(".button_tail"),_(".item-game__button_bet"),s(".button","_selected"),sessionStorage.setItem("current-bet","empty")):document.querySelector(".catgame")&&(document.querySelector(".catgame__hero").style.left="0%",y.current_left=0,document.querySelector(".catgame__fire")&&document.querySelector(".catgame__fire").remove(),_(".catgame__button"))),q.closest(".catgame__button")&&+sessionStorage.getItem("money")>=+sessionStorage.getItem("bet")&&!q.closest(".catgame__button").classList.contains("_hold")){u(".bets"),u(".catgame__button"),c(+sessionStorage.getItem("bet"),".check"),b(a(0,y.width-200))}let h=sessionStorage.getItem("tank-active");if(q.closest(".catgame__hero")&&q.closest(".catgame__hero").classList.contains(`_active-${h}`)){clearInterval(y.timerId),document.querySelector(".catgame__hero").classList.remove(`_active-${h}`);let e=function(){let e=y.current_position,t=y.width/10;return Math.ceil(e/t)+1}()*+sessionStorage.getItem("bet");r(e,".check",1e3,2e3),document.querySelector(".win__text").textContent=e,setTimeout((()=>{document.querySelector(".win").classList.add("_active")}),200)}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();